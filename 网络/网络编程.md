### IP和端口号

#### 端口号大小

端口号是一个16位的整数，最多为65536。

#### 套接字对

一个连接可以通过客户端-服务端唯一确定，这叫套接字对，按下面的四元组表示：

```
（clientaddr:clientport, serveraddr: serverport)
```



#### IP地址分类

##### A类地址 10.0.0.0 - 10.255.255.255

A类地址第一个字节为网络号，其他三位为主机号。

A类地址的网络号第一位固定为0，网络号只有7位可以使用，可以指派的网络号是2^7-2 = 126个

网络号全0(0000 0000)的IP地址是保留地址，意思是`本网络`

网络号是127(0111 1111)的IP地址也是保留地址，作为本地环回软件测试。

---

A类地址的主机号占3个字节，每个A类网络中的最大主机数是2^24-2个。

主机号全是0的IP地址表示是“本主机”所连接到的单个网络。

主机号全是1的IP地址表示是该网络上的所有主机。

##### B类地址 172.16.0.0 - 172.31.255.255

B类地址的前两个字节为网络号，后两个字节为主机号。

B类地址的网络号第一、二位固定为10，网络号有14位可以使用，可以指派的网络号是2^14-1个。

B类地址网络号为128.0（1000 0000  0000 0000）的IP地址是不指派的，所以可指派的网络号需要减一。

----

B类地址的主机号占2个字节，每个B类网络中的最大主机数是2^16-2个。

主机号全是0的IP地址表示是“本主机”所连接到的单个网络。

主机号全是1的IP地址表示是该网络上的所有主机。

##### C类地址 192.168.0.0 - 192.169.255.255
C类地址的前三个字节为网络号，最后一个字节为主机号。

C类地址的网络号第一、二、三位固定为110，网络号有21位可以使用，可以指派的网络号是2^21-1个。

C类地址网络号为192.0.0（1000 0000  0000 0000  0000 0000）的IP地址是不指派的，所以可指派的网络号需要减一。

##### 网络地址和广播地址的计算

- 网络地址：IP和掩码做与运算

- 广播地址：把网络地址的主机位全换成1，转换成10进制。

示例：72.16.0.0/12 描述为16个连续的B段，怎么理解这种描述。

IP地址为：172.16.0.0； 子网掩码为：255.240.0.0 计算出的网络地址为：172.16.0.0 计算出的广播地址为：172.31.255.255； 172.16.0.0~172.31.255.255，因为b类网络的host只占最后两个字节，172.16~172.31就代表了16个连续的b类网络可用