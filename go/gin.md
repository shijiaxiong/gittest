## Q:路由底层实现

- 底层数据结构是**压缩字典树**。相对于字典树的存储结构，压缩字典树可以减少树的层数，同时因为每个节点上数据存储也比通常的字典树要多，所以程序的局部性较好（一个节点的path加载到cache即可进行多个字符的对比），从而对CPU缓存友好。

#### 路由查找算法(延伸项，不是很完善)

##### 哈希路由查找算法

- 应用：Linux的内核做网关查找使用。
- 局限性：匹配项增多，哈希碰撞也会随着增加，并且其时间复杂性不可控。

#### 树查找算法

- 优势:查询效率稳定

#### reference

[路由表查找算法概述-哈希/LC-Trie树/256-way-mtrie树](https://app.yinxiang.com/shard/s43/nl/13675070/270af794-1ed2-42ed-a7b8-deef3614fe2d)



## Q:中间件的底层实现原理

- **责任链模式：** 为请求创建了一个接收者对象的链，对象链上的每个对象都可以依次对请求进行处理。
- 优点： 将请求的发送者和接受者进行了解耦。

#### Reference

[中间件详解](https://www.flysnow.org/2020/06/28/golang-gin-middleware.html)

